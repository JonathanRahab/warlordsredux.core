<!DOCTYPE html><html lang="en"><head><style>:root{--accent:#ff3b3b;--hud-text:#14cb00;--bar-bg-solid:rgba(8, 10, 14, 0.5);--bar-bg-mid:rgba(8, 10, 14, 0.4);--bar-bg-transparent:rgba(8, 10, 14, 0);--text:#ffffff;--divider:rgba(255, 255, 255, 0.4);--text-size:35px;--badge-size:128px;--badge-gap:30px}*{box-sizing:border-box}body,html{margin:0;padding:0;height:100%;overflow:hidden;font-family:Consolas,monospace;color:var(--text);text-transform:uppercase;font-size:var(--text-size);line-height:1;font-weight:900;opacity:.96;text-align:center;z-index:10}.death-strip{position:absolute;top:0;left:0;width:100%;height:20vh;display:grid;grid-template-columns:1fr 1fr 1fr;gap:0;background:var(--bar-bg-solid)}.death-strip::after,.death-strip::before{content:"";position:absolute;top:10%;bottom:10%;width:1px;background:var(--divider)}.death-strip::before{left:33.3333%}.death-strip::after{left:66.6667%}.left-panel,.panel{display:grid;align-content:center}.panel{position:relative;padding:14px 20px;justify-items:center}.left-panel{grid-template-columns:2fr 3fr;grid-template-rows:1fr 2fr 1fr;row-gap:.25em;align-items:start;justify-items:stretch;padding:0 .5em;height:20vh}.health-text,.killed-by-name,.killed-by-title,.ratio-text{margin:0;padding:0;line-height:1}.killed-by-name,.killed-by-title{grid-column:1/-1;grid-row:1;text-align:center;align-self:end}.killed-by-name{grid-row:2;font-size:calc(var(--text-size)*1.5);font-weight:900;align-self:center;white-space:nowrap}.health-text,.ratio-text{grid-column:1;grid-row:3;justify-self:start;align-self:start}.ratio-text{grid-column:2;justify-self:end}.center-panel{position:relative;height:20vh}.badge,.badge-icon-mask{position:absolute;left:50%;top:10%;transform:translate(-50%);width:var(--badge-size);height:var(--badge-size)}.badge-icon-mask{top:50%;transform:translate(-50%,-50%);display:block;--icon:none;background-color:var(--badge-color,#fff);mask-image:var(--icon);mask-repeat:no-repeat;mask-position:center;mask-size:contain}.badge-text{position:absolute;left:50%;top:75%;transform:translateX(-50%);white-space:nowrap}.badge-level-1{--badge-color:#779ECB}.badge-level-2{--badge-color:#cc7573}.badge-level-3{--badge-color:#FFD700}.right-panel{display:grid;grid-auto-rows:auto;row-gap:4px;justify-items:center;align-items:start;align-content:start;text-align:center;margin:0;padding:0}.killer-icon{width:var(--badge-size);height:var(--badge-size)}.killer-icon-mask{position:absolute;left:50%;top:50%;width:300px;height:300px;transform:translate(-50%,-40%);display:block;--icon:none;background-color:#fff;mask-image:var(--icon);mask-repeat:no-repeat;mask-position:center;mask-size:contain}.killer-text{margin:0;padding:.5em;align-self:start}.death-display{position:absolute;left:50vw;top:50vh;transform:translate(-50%,-50%);text-align:center;width:100vw}.display-title,.respawn-timer{color:var(--accent);font-size:calc(var(--text-size)*3);text-shadow:0 6px 28px rgba(0,0,0,.45)}.respawn-timer{margin-top:8px;font-size:calc(var(--text-size)*1.25);color:var(--text)}.hit-projectiles{position:fixed;left:1vw;top:30vh;width:30vw;height:50vh;font-size:calc(var(--text-size)*.6);color:var(--hud-text);text-shadow:-1px -1px 0#000,1px -1px 0#000,-1px 1px 0#000,1px 1px 0#000;text-align:left;display:flex;flex-direction:column;gap:8px;padding:8px;align-items:center}.hit-projectiles-list{display:grid;grid-template-columns:auto 1fr;column-gap:30px;align-items:start}.hit-header{grid-column:1/-1;margin-bottom:1.1em;text-decoration:underline;text-decoration-thickness:1px;text-underline-offset:.6em}.hit-by,.hit-times{display:block;white-space:pre-line}.hit-times{text-align:right}.hit-by{text-align:left}.hitviz-wrap{width:300px;height:480px;position:fixed;left:75vw;top:30vh}#hitviz{width:100%;height:100%;background:0 0;image-rendering:pixelated}</style></head><body><div class="death-strip"><div class="panel left-panel"><div class="killed-by-title">KILLER</div><div class="killed-by-name">Enemy</div><div class="health-text">HEALTH 100%</div><div class="ratio-text"><span class="ratio-you">YOU 0</span> - <span class="ratio-them">0 THEM</span></div></div><div class="panel center-panel"><div class="badge"><div class="badge-icon-mask"></div></div><div class="badge-text"></div></div><div class="panel right-panel"><div class="killer-text"></div><div class="killer-icon"><div class="killer-icon-mask"></div></div></div></div><div class="hit-projectiles"><div class="hit-projectiles-list"><div class="hit-times"></div><div class="hit-by"></div></div></div><div class="death-display"><div class="display-title">YOU ARE DOWN</div><div class="respawn-timer">Respawning in 30...</div></div><div class="hitviz-wrap"><canvas height="480" id="hitviz" width="300"></canvas></div><script>function sideToColorHex(e){switch(e){case"WEST":return"#1087ff";case"EAST":return"#fe0000";case"GUER":return"#00fe00";default:return"#FFFFFF"}}function sideToColorRGB(e,t=1){switch(e){case"WEST":return`rgba(16, 135, 255, ${t})`;case"EAST":return`rgba(254, 0, 0, ${t})`;case"GUER":return`rgba(0, 254, 0, ${t})`;default:return`rgba(255, 255, 255, ${t})`}}function updateData(e){e=JSON.parse(e||"[]");const[t,r,a,o,n,c,i,d,s,l,u,h]=e;document.querySelector(".health-text").textContent=`HEALTH ${t}%`,document.querySelector(".ratio-you").textContent=`YOU ${o}`,document.querySelector(".ratio-them").textContent=`${n} THEM`,document.querySelector(".killed-by-name").textContent=`${c}`,sideToColorHex(i),document.querySelector(".death-strip").style.backgroundColor=sideToColorRGB(i,.8),document.querySelector(".killer-text").textContent=r;const m=document.querySelector(".killer-icon-mask");a?(m.style.display="",A3API.RequestTexture(a,512).then(e=>{m.style.setProperty("--icon",`url(${e})`)})):m.style.display="none";const f=document.querySelector(".badge-text"),g=document.querySelector(".badge");f.textContent=d;let y="#ffffff";1===s?(g.className="badge badge-level-1",y="#779ECB"):2===s?(g.className="badge badge-level-2",y="#cc7573"):3===s&&(g.className="badge badge-level-3",y="#FFD700");const R=document.querySelector(".badge-icon-mask");l?A3API.RequestTexture(l.replace(/\\\\/g,"\\"),256).then(e=>{R.style.setProperty("--icon",`url(${e})`),R.style.setProperty("--badge-color",y)}):A3API.RequestTexture("a3\\missions_f_epa\\data\\img\\orbat\\i_aaf_ca.paa",256).then(e=>{R.style.setProperty("--icon",`url(${e})`),R.style.setProperty("--badge-color",y)}),updateHitpoints(u),updateHitProjectiles(h)}function updateHitProjectiles(e){if(document.querySelector(".hit-projectiles"),!e||0===e.length)return;const t=document.querySelector(".hit-times"),r=document.querySelector(".hit-by");t.innerHTML='<div class="hit-header">TIME</div>',r.innerHTML='<div class="hit-header">PROJECTILE</div>',e.forEach(e=>{t.innerHTML+=`${e[0]}<br/>`,r.innerHTML+=`${e[1]}<br/>`})}function updateRespawnTimer(e){document.querySelector(".respawn-timer").textContent=e?`BLEED OUT IN ${String(e).padStart(4,"0")}...`:"WAITING TO RESPAWN..."}const HITPOINT_ORDER=["hitface","hitneck","hithead","hitpelvis","hitabdomen","hitdiaphragm","hitchest","hitbody","hitarms","hithands","hitlegs"],LINE_WIDTH=1;function norm01(e){return e=Number.isFinite(e)?e:0,Math.max(0,Math.min(1,e))}function damageColor(e){e=Math.max(0,Math.min(1,e));const t=Math.pow(e,1.5);let r,a,o;if(t<.5){const e=t/.5;r=255,a=255-90*e,o=255-255*e}else r=255,a=165-(t-.5)/.5*165,o=0;return`rgb(${r}, ${a}, ${o})`}function drawRect(e,t,r,a,o,n){e.save(),e.beginPath();const c=Math.round(t)+.5,i=Math.round(r)+.5,d=Math.round(a),s=Math.round(o);e.roundRect(c,i,d,s,3),e.globalAlpha=1,e.fillStyle=damageColor(n),e.fill(),e.restore()}function updateHitpoints(e){const t=document.getElementById("hitviz");if(!t)return;const r=t.getContext("2d"),a={};for(let t=0;t<HITPOINT_ORDER.length;t++)a[HITPOINT_ORDER[t]]=norm01(e?.[t]??0);const o=t.width,n=t.height,c=o/2,i=c-28,d=c-12,s=c-45,l=s,u=s-8-32,h=s+90+8,m=u,f=h,g=s+8,y=Math.round(122*.26),R=Math.round(41.48),T=134-y-R-12,p=85+y+6,b=p+T+6,M=Math.round(56*.68),S=Math.round(28),w=c-M/2,E=15+Math.round((40-S)/2)+2,x=Math.floor(41),I=Math.max(0,n-265-8-.5*LINE_WIDTH),H=Math.floor(.65*I),q=s,C=s+x+8,$=Math.floor(31),P=g,N=g+$+12;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,o,n),drawRect(r,s,77,90,150,0),drawRect(r,g,85,74,y,a.hitchest),drawRect(r,P,p,$,T,a.hitdiaphragm),drawRect(r,N,p,$,T,a.hitdiaphragm),drawRect(r,g,b,74,R,a.hitabdomen),drawRect(r,u,77,32,112,a.hitarms),drawRect(r,h,77,32,112,a.hitarms),drawRect(r,m,195,32,32,a.hithands),drawRect(r,f,195,32,32,a.hithands),drawRect(r,d,61,24,10,a.hitneck),drawRect(r,i,15,56,40,a.hithead),drawRect(r,w,E,M,S,a.hitface),drawRect(r,l,233,90,26,a.hitpelvis),drawRect(r,q,265,x,H,a.hitlegs),drawRect(r,C,265,x,H,a.hitlegs)}</script></body></html>